{"ast":null,"code":"import _classCallCheck from \"C:/Users/Owner/OneDrive/Pathways/Y03/S01/WDD 430/WDD430/w08/W08_recipes/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Owner/OneDrive/Pathways/Y03/S01/WDD 430/WDD430/w08/W08_recipes/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { NgForm } from '@angular/forms';\nimport { Ingredient } from '../../shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shopping-list.service\";\nimport * as i2 from \"@angular/forms\";\nvar _c0 = [\"f\"];\nexport var ShoppingEditComponent = /*#__PURE__*/function () {\n  // @ViewChild('nameInput', { static: false }) nameInputRef: ElementRef;\n  // @ViewChild('amountInput', { static: false }) amountInputRef: ElementRef; REMOVED\n  function ShoppingEditComponent(slService) {\n    _classCallCheck(this, ShoppingEditComponent);\n\n    this.slService = slService;\n    this.editMode = false;\n  }\n\n  _createClass(ShoppingEditComponent, [{\n    key: \"ngOnInit\",\n    value: function ngOnInit() {\n      var _this = this;\n\n      this.subsciption = this.slService.startedEditing.subscribe(function (index) {\n        _this.editedItemIndex = index;\n        _this.editMode = true;\n        _this.editedItem = _this.slService.getIngredient(index);\n\n        _this.slForm.setValue({\n          name: _this.editedItem.name,\n          amount: _this.editedItem.amount\n        });\n      });\n    }\n  }, {\n    key: \"onAddItem\",\n    value: function onAddItem(form) {\n      // const ingName = this.nameInputRef.nativeElement.value;\n      // const ingAmount = this.amountInputRef.nativeElement.value; REMOVED\n      var value = form.value;\n      var newIngredient = new Ingredient(value.name, value.amount);\n\n      if (this.editMode) {\n        this.slService.updateIngredient(this.editedItemIndex, value.amount);\n      } else {\n        this.slService.addIngredient(newIngredient);\n      }\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.subsciption.unsubscribe();\n    }\n  }]);\n\n  return ShoppingEditComponent;\n}();\n\nShoppingEditComponent.ɵfac = function ShoppingEditComponent_Factory(t) {\n  return new (t || ShoppingEditComponent)(i0.ɵɵdirectiveInject(i1.ShoppingListService));\n};\n\nShoppingEditComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ShoppingEditComponent,\n  selectors: [[\"app-shopping-edit\"]],\n  viewQuery: function ShoppingEditComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.slForm = _t.first);\n    }\n  },\n  decls: 21,\n  vars: 2,\n  consts: [[1, \"row\"], [1, \"col-xs-12\"], [3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"col-sm-5\", \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", \"ngModel\", \"\", \"required\", \"\", 1, \"form-control\"], [1, \"col-sm-2\", \"form-group\"], [\"for\", \"amount\"], [\"type\", \"number\", \"id\", \"amount\", \"name\", \"amount\", \"ngModel\", \"\", \"required\", \"\", \"pattern\", \"^[1-9]+[0-9]*$\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\"]],\n  template: function ShoppingEditComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      var _r1 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function ShoppingEditComponent_Template_form_ngSubmit_2_listener() {\n        i0.ɵɵrestoreView(_r1);\n\n        var _r0 = i0.ɵɵreference(3);\n\n        return i0.ɵɵresetView(ctx.onAddItem(_r0));\n      });\n      i0.ɵɵelementStart(4, \"div\", 0)(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n      i0.ɵɵtext(11, \"Amount\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 0)(14, \"div\", 1)(15, \"button\", 10);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"button\", 11);\n      i0.ɵɵtext(18, \"Delete\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"button\", 12);\n      i0.ɵɵtext(20, \"Clear\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n\n    if (rf & 2) {\n      var _r0 = i0.ɵɵreference(3);\n\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"disabled\", !_r0.valid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(ctx.editMode ? \"Update\" : \"Add\");\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NumberValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.RequiredValidator, i2.PatternValidator, i2.NgModel, i2.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaG9wcGluZy1lZGl0LmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":";;AAMA,SAASA,MAAT,QAAuB,gBAAvB;AAGA,SAASC,UAAT,QAA2B,+BAA3B;AACA,SAASC,mBAAT,QAAoC,0BAApC;;;;;AAOA,WAAaC,qBAAb;EAME;EACA;EAEA,+BAAoBC,SAApB,EAAkD;IAAA;;IAA9B;IANpB,gBAAW,KAAX;EAMuD;;EATzD;IAAA;IAAA,OAWE,oBAAQ;MAAA;;MACN,KAAKC,WAAL,GAAmB,KAAKD,SAAL,CAAeE,cAAf,CAChBC,SADgB,CAEf,UAACC,KAAD,EAAkB;QAChB,KAAI,CAACC,eAAL,GAAuBD,KAAvB;QACA,KAAI,CAACE,QAAL,GAAgB,IAAhB;QACA,KAAI,CAACC,UAAL,GAAkB,KAAI,CAACP,SAAL,CAAeQ,aAAf,CAA6BJ,KAA7B,CAAlB;;QACA,KAAI,CAACK,MAAL,CAAYC,QAAZ,CAAqB;UACnBC,IAAI,EAAE,KAAI,CAACJ,UAAL,CAAgBI,IADH;UAEnBC,MAAM,EAAE,KAAI,CAACL,UAAL,CAAgBK;QAFL,CAArB;MAID,CAVc,CAAnB;IAYD;EAxBH;IAAA;IAAA,OA2BE,mBAAUC,IAAV,EAAsB;MACpB;MACA;MACA,IAAMC,KAAK,GAAGD,IAAI,CAACC,KAAnB;MACA,IAAMC,aAAa,GAAG,IAAIlB,UAAJ,CAAeiB,KAAK,CAACH,IAArB,EAA2BG,KAAK,CAACF,MAAjC,CAAtB;;MACA,IAAI,KAAKN,QAAT,EAAmB;QACjB,KAAKN,SAAL,CAAegB,gBAAf,CAAgC,KAAKX,eAArC,EAAsDS,KAAK,CAACF,MAA5D;MACD,CAFD,MAEO;QACL,KAAKZ,SAAL,CAAeiB,aAAf,CAA6BF,aAA7B;MACD;IACF;EArCH;IAAA;IAAA,OAuCE,uBAAW;MACT,KAAKd,WAAL,CAAiBiB,WAAjB;IACD;EAzCH;;EAAA;AAAA;;;mBAAanB,uBAAqBoB;AAAA;;;QAArBpB;EAAqBqB;EAAAC;IAAA;;;;;;;;;;;;;;;;;MCjBlCF,+BAAiB,CAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,CAAjB,EAAiB,MAAjB,EAAiB,CAAjB,EAAiB,CAAjB;MAEUA;QAAAA;;QAAA;;QAAA,OAAYA,kCAAZ;MAAwB,CAAxB;MACJA,+BAAiB,CAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,CAAjB,EAAiB,OAAjB,EAAiB,CAAjB;MAEsBA;MAAIA;MACtBA;MAOFA;MACAA,+BAAiC,EAAjC,EAAiC,OAAjC,EAAiC,CAAjC;MACsBA;MAAMA;MAC1BA;MAQFA;MAEFA,gCAAiB,EAAjB,EAAiB,KAAjB,EAAiB,CAAjB,EAAiB,EAAjB,EAAiB,QAAjB,EAAiB,EAAjB;MAI0BA;MAAiCA;MACvDA;MAA6CA;MAAMA;MACnDA;MAA8CA;MAAKA;;;;;;MAFnDA;MAAAA;MAAsBA;MAAAA","names":["NgForm","Ingredient","ShoppingListService","ShoppingEditComponent","slService","subsciption","startedEditing","subscribe","index","editedItemIndex","editMode","editedItem","getIngredient","slForm","setValue","name","amount","form","value","newIngredient","updateIngredient","addIngredient","unsubscribe","i0","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\Owner\\OneDrive\\Pathways\\Y03\\S01\\WDD 430\\WDD430\\w08\\W08_recipes\\src\\app\\shopping-list\\shopping-edit\\shopping-edit.component.ts","C:\\Users\\Owner\\OneDrive\\Pathways\\Y03\\S01\\WDD 430\\WDD430\\w08\\W08_recipes\\src\\app\\shopping-list\\shopping-edit\\shopping-edit.component.html"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  ElementRef,\n  ViewChild\n} from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\n\nimport { Ingredient } from '../../shared/ingredient.model';\nimport { ShoppingListService } from '../shopping-list.service';\n\n@Component({\n  selector: 'app-shopping-edit',\n  templateUrl: './shopping-edit.component.html',\n  styleUrls: ['./shopping-edit.component.css']\n})\nexport class ShoppingEditComponent implements OnInit {\n  @ViewChild('f') slForm: NgForm;\n  subsciption: Subscription;\n  editMode = false;\n  editedItemIndex: number;\n  editedItem: Ingredient;\n  // @ViewChild('nameInput', { static: false }) nameInputRef: ElementRef;\n  // @ViewChild('amountInput', { static: false }) amountInputRef: ElementRef; REMOVED\n\n  constructor(private slService: ShoppingListService) { }\n\n  ngOnInit() {\n    this.subsciption = this.slService.startedEditing\n      .subscribe(\n        (index: number) => {\n          this.editedItemIndex = index;\n          this.editMode = true;\n          this.editedItem = this.slService.getIngredient(index);\n          this.slForm.setValue({\n            name: this.editedItem.name,\n            amount: this.editedItem.amount\n          })\n        }\n      );\n  }\n\n\n  onAddItem(form: NgForm) {\n    // const ingName = this.nameInputRef.nativeElement.value;\n    // const ingAmount = this.amountInputRef.nativeElement.value; REMOVED\n    const value = form.value;\n    const newIngredient = new Ingredient(value.name, value.amount);\n    if (this.editMode) {\n      this.slService.updateIngredient(this.editedItemIndex, value.amount);\n    } else {\n      this.slService.addIngredient(newIngredient);\n    }\n  }\n\n  ngOnDestroy() {\n    this.subsciption.unsubscribe();\n  }\n\n}\n","<div class=\"row\">\n  <div class=\"col-xs-12\">\n    <form (ngSubmit)=\"onAddItem(f)\" #f=\"ngForm\">\n      <div class=\"row\">\n        <div class=\"col-sm-5 form-group\">\n          <label for=\"name\">Name</label>\n          <input\n            type=\"text\"\n            id=\"name\"\n            class=\"form-control\"\n            name=\"name\"\n            ngModel\n            required>\n        </div>\n        <div class=\"col-sm-2 form-group\">\n          <label for=\"amount\">Amount</label>\n          <input\n            type=\"number\"\n            id=\"amount\"\n            class=\"form-control\"\n            name=\"amount\"\n            ngModel\n            required\n            pattern=\"^[1-9]+[0-9]*$\">\n        </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-xs-12\">\n          <button class=\"btn btn-success\" \n          type=\"submit\" \n          [disabled]=\"!f.valid\">{{ editMode ? 'Update' : 'Add' }}</button>\n          <button class=\"btn btn-danger\" type=\"button\">Delete</button>\n          <button class=\"btn btn-primary\" type=\"button\">Clear</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module"}